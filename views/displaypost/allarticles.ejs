<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/a41e9403cf.js" crossorigin="anonymous"></script>
  <!-- Custom styles for this template -->
  <link href="./stylesheets/style.css" rel="stylesheet">
  <title>Blog Post</title>
</head>

<body>
  <!-- Navigation -->


  <%- include('../header'); %>


    <!-- Page Content -->
    <div class="container">

      <div class="row">
        <!-- Post Content Column -->
        <div class="col-lg-8">
          <div id="article">
            <%for(i=0;i<post.length;i++){%>
              <!-- Title -->
              <a href="/getspecificpost?id=<%=post[i].id%>">
                <h1 class="mt-4">
                  <%=post[i].title%>
                </h1>
              </a>

              <!-- Author and date of the post-->
              <h6>
                <b><a href="/getauthor?name=<%=post[i].author%>">
                    <%=post[i].author%>
                  </a></b> in <a href="/getcategory?name=<%=post[i].category%>">
                  <%=post[i].category%>
                </a> - Posted on <%=dateFormat(post[i].datePublication)%>
              </h6>

              <hr>

              <!-- Post Content, shortening it through contentShortener function -->
              <p>
                <%=contentShortener(post[i].content)%> <a href="/getspecificpost?id=<%=post[i].id%>">... <b>Lire la
                      suite</b> </a>
              </p>

              <!-- Ask for comment -->
              <div>
                <i class="fas fa-comment-alt" style:="color:black;padding-right:70px"></i><a
                  href="/getspecificpost?id=<%=post[i].id%>">
                  <!--Displaying different label if no comments posted otherwise state comments-->
                  <%if(post[i].commentaires.length-1==0){%>
                    Ecrire le premier commentaire
                    <%}else{%>
                      <%=post[i].commentaires.length-1%> commentaires<%}%>
                </a>
              </div>
              <%}%>
          </div>
        </div>

        <!-- Side Bar column-->

        <div class="col-md-4">

          <!-- Search Widget -->
          <div class="card my-4">
            <h5 class="card-header">Search</h5>
            <div class="card-body">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Search for...">
                <span class="input-group-append">
                  <button class="btn btn-secondary" type="button">Go!</button>
                </span>
              </div>
            </div>
          </div>

          <!-- Categories Widget -->
          <%- include('../categories-widget'); %>




            <!-- End of main column -->

            <!-- /.row -->
        </div>


        <!-- /.container -->
      </div>


      <!-- Footer -->
      <footer class="py-5 bg-dark">
        <div class="container">
          <p class="m-0 text-center text-white">Copyright Hugo PAUL&copy;</p>
        </div>
        <!-- /.container -->
      </footer>

      <!-- Bootstrap core JavaScript -->
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>